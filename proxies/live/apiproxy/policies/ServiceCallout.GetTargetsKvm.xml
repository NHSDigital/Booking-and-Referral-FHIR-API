<ServiceCallout async="false" continueOnError="false" enabled="true" name="ServiceCallout.GetTargetsKvm">
    <!-- This is the default (55 seconds). Including it to make explicit. -->
    <Timeout>55000</Timeout>
    <Request>
        <Set>
            <Verb>GET</Verb>
            <Path>https://api.enterprise.apigee.com/v1/organizations/nhsd-nonprod/environments/internal-dev/keyvaluemaps/booking-and-referrals-targets</Path>
        </Set>
        <IgnoreUnresolvedVariables>false</IgnoreUnresolvedVariables>
    </Request>
    <Response>
        <Step>
            <Name>TargetsKVMResponseHandling.js</Name>
        </Step>
    </Response>
    <AssignMessage name="Assign-URL">
        <AssignTo createNew="false" transport="http" type="request">url</AssignTo>
        <Set><Ref>myExtractedURL</Ref></Set>
    </AssignMessage>
    <HTTPTargetConnection>
        <SSLInfo>
            <Enabled>true</Enabled>
        </SSLInfo>
        <URL><Ref>myExtractedURL</Ref></URL>
    </HTTPTargetConnection>
</ServiceCallout>
